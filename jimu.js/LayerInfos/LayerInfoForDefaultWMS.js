// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/Deferred dojo/dom-construct dojo/on ./LayerInfoForDefault".split(" "),function(f,e,g,h,d,k,l){return f(l,{constructor:function(a,b){this.layerObject=a.layerObject},_resetLayerObjectVisiblity:function(){},_initVisible:function(){var a=!1;this.traversal(function(b){if(0<=e.indexOf(b.layerObject.visibleLayers,b.subId))return a=!0});this._visible=a},_setVisible:function(a){this._visible=a?!0:!1},_setTopLayerVisible:function(a){var b=this.originOperLayer.wms;
this._visible=a?!0:!1;var c={};this.traversal(function(a){0===a.getSubLayers().length&&(c[a.subId]=a._isAllSubLayerVisibleOnPath())});b.layerInfo._setSubLayerVisible(c)},_getServiceDefinition:function(){var a=this.getUrl();return this._serviceDefinitionBuffer.getRequest(this.subId).request(a)},_serviceDefinitionRequest:function(a){return this._normalRequest(a,{SERVICE:"WMS",REQUEST:"GetCapabilities"},"xml")},obtainNewSubLayers:function(){var a=[],b=this.originOperLayer.wms;e.forEach(b.wmsLayerInfo.subLayers,
function(c){c=b.layerInfo._getOperLayerFromWMSLayerInfo(c,this);c=this._layerInfoFactory.create(c);a.push(c);c.init()},this);return a},drawLegends:function(a){this._initLegendsNode(a)},_initLegendsNode:function(a){if(this.originOperLayer.wms.wmsLayerInfo.legendURL){var b=d.create("img",{"class":"legend-div-image",src:this.originOperLayer.wms.wmsLayerInfo.legendURL});k(b,"load",function(){d.empty(a);var c=d.create("div",{"class":"legend-div"},a);g.place(b,c)})}else d.empty(a)},getOpacity:function(){},
setOpacity:function(a){},enablePopup:function(){this.originOperLayer.wms.wmsLayerInfo.showPopup=!0},disablePopup:function(){this.originOperLayer.wms.wmsLayerInfo.showPopup=!1},isPopupEnabled:function(){return this.originOperLayer.wms.wmsLayerInfo.showPopup},isSupportPopup:function(){var a=new h;this.originOperLayer.wms.wmsLayerInfo.queryable?a.resolve(!0):a.resolve(!1);return a},_bindEvent:function(){},_onVisibleLayersChanged:function(){},getScaleRange:function(){return this.originOperLayer.wms.layerInfo.getScaleRange()}})});