// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/event dojo/on dojo/keys dojo/mouse dojo/Evented dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(e,a,b,f,c,g,d,h,k,l){return e([k,l,h],{baseClass:"popup-menu-item",templateString:'\x3cdiv role\x3d"option" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"icon jimu-float-leading" data-dojo-attach-point\x3d"iconContainer"\x3e\x3cdiv class\x3d"feature-action" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/div\x3e\x3c/div\x3e',
action:null,postCreate:function(){this.inherited(arguments);this.action&&(this.labelNode.innerHTML=this.action.label,this.labelNode.title=this.action.label,this.action.iconClass?("no-icon"===this.action.iconClass&&a.addClass(this.iconContainer,"no-icon"),a.addClass(this.iconNode,this.action.iconClass)):a.setStyle(this.iconNode,"background-image","url("+this.action.getIcon("default")+")"),this.own(c(this.domNode,d.enter,b.hitch(this,this._useHoverIcon))),this.own(c(this.domNode,d.leave,b.hitch(this,
this._useNormalIcon))));this.own(c(this.domNode,"click",b.hitch(this,this._clickHandler)));this.own(c(this.domNode,"keydown",b.hitch(this,function(a){a.keyCode===g.ENTER&&this._clickHandler(a,!0)})))},setSelected:function(b){b?a.addClass(this.domNode,"selected"):a.removeClass(this.domNode,"selected")},_useNormalIcon:function(){this.action.iconClass?a.removeClass(this.iconNode,"highlight"):a.setStyle(this.iconNode,"background-image","url("+this.action.getIcon("default")+")")},_useHoverIcon:function(){this.action.iconClass?
a.addClass(this.iconNode,"highlight"):a.setStyle(this.iconNode,"background-image","url("+this.action.getIcon("hover")+")")},_clickHandler:function(a,b){f.stop(a);if(this.action){var c;this.action.data.features&&0<this.action.data.features.length&&(c=this.action.data.features[0].getLayer());this.action.onExecute(this.action.data,c)}this.emit("click",{isEnter:b})}})});